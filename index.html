<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rocket Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 20px;
    }
    #game-status, #result, #daily-coins {
      margin: 10px;
      font-size: 18px;
    }
    #rocket-container {
      position: relative;
      width: 200px;
      height: 400px;
      border: 2px solid #ccc;
      margin: 20px auto;
      background: linear-gradient(to bottom, #87ceeb, #f0f8ff); /* Небо */
      overflow: hidden;
    }
    #rocket {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 80px;
      background: url('https://cdn-icons-png.flaticon.com/512/3798/3798202.png') no-repeat center;
      background-size: contain;
    }
    input, button {
      font-size: 16px;
      padding: 10px;
      margin: 5px;
    }
    button {
      background-color: #0088cc;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background-color: #006699;
    }
  </style>
</head>
<body>
  <h1>Rocket Game</h1>
  <div id="daily-coins">Ежедневные монеты: 0</div>
  <div id="game-status">Ваши монеты: 0</div>

  <!-- Поля для ввода ставки и уровня -->
  <input id="bet-coins-input" type="number" placeholder="Ставка (монеты)" />
  <input id="bet-level-input" type="number" placeholder="Уровень (1-100)" />

  <button onclick="placeBet()">Сделать ставку</button>
  <div id="result"></div>

  <!-- Контейнер для ракеты -->
  <div id="rocket-container">
    <div id="rocket"></div>
  </div>

  <script>
    let coins = 0; // Текущие монеты игрока
    let dailyCoins = 0; // Ежедневные монеты
    let rocketLevel = 0; // Случайный уровень полёта ракеты
    let streak = 0; // Количество дней подряд

    // Функция для получения ежедневных монет
    function getDailyCoins() {
      streak++;
      dailyCoins = streak;
      coins += dailyCoins;
      updateUI();
    }

    // Функция для обновления интерфейса
    function updateUI() {
      document.getElementById("daily-coins").textContent = `Ежедневные монеты: ${dailyCoins}`;
      document.getElementById("game-status").textContent = `Ваши монеты: ${coins}`;
    }

    // Функция для запуска ракеты с анимацией
    function animateRocket(level) {
      const rocket = document.getElementById("rocket");
      const containerHeight = document.getElementById("rocket-container").offsetHeight;
      const maxLevel = 100;

      const targetPosition = (level / maxLevel) * containerHeight;

      let currentPosition = 0;
      const interval = setInterval(() => {
        if (currentPosition >= targetPosition) {
          clearInterval(interval);
          return;
        }
        currentPosition += 5; // Скорость полёта ракеты
        rocket.style.bottom = `${currentPosition}px`;
      }, 50);
    }

    // Функция для размещения ставки
    function placeBet() {
      const betCoinsInput = document.getElementById("bet-coins-input");
      const betLevelInput = document.getElementById("bet-level-input");
      const betCoins = parseInt(betCoinsInput.value);
      const betLevel = parseInt(betLevelInput.value);

      if (!betCoins || betCoins <= 0) {
        alert("Введите корректную сумму ставки.");
        return;
      }

      if (!betLevel || betLevel < 1 || betLevel > 100) {
        alert("Введите уровень от 1 до 100.");
        return;
      }

      if (betCoins > coins) {
        alert("Недостаточно монет для этой ставки.");
        return;
      }

      // Списываем монеты за ставку
      coins -= betCoins;

      // Генерируем уровень полёта ракеты
      rocketLevel = Math.floor(Math.random() * 100) + 1;

      // Запускаем анимацию ракеты
      animateRocket(rocketLevel);

      // Проверяем результат
      setTimeout(() => {
        if (rocketLevel >= betLevel) {
          const tokensWon = betCoins * betLevel; // Выигрыш в токенах
          alert(`Ракета долетела до уровня ${rocketLevel}. Вы выиграли ${tokensWon} токенов!`);
        } else {
          alert(`Ракета долетела до уровня ${rocketLevel}. Вы проиграли.`);
        }

        updateUI();
      }, 5000); // Ожидание окончания анимации
    }

    // Выдаём ежедневные монеты при запуске
    getDailyCoins();
  </script>
</body>
</html>
